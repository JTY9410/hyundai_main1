현대해상30일책임보험전산


- Python 3.11
- Flask (웹 프레임워크)
- SQLite (데이터베이스)/
- Docker (컨테이너화)
- HTML/CSS/JavaScript (프론트엔드)
- Bootstrap 5 (UI 프레임워크)
- 최신 ux/xi 반영 (www.k-auction.com의 ui/ux참조 )
- 웹기반의 하이브리드 방식
- 각열의 너비는 충분한 간격을 갖도록 하며, 제목행은 고정으로 하며 제목형 아래에 스크롤가로바를 설치하여 가로로 이동이 편하도록 한다 

전체프로그램의 개요 
전체관리자섹션 - 파트너그룹섹션 - 회원사 의 구조로 이어지고 있으며 회원사는 파트너그룹섹션에 회원에 가입하여 책임보험을 신청하고 이를 파트너그룹의 관리자가 승인을 하는 구조를 가지고 있으며 파트너그룹섹션은 전체관리자섹션에서 생성하고 관리하는 프로세스를 가진다 전체관리자섹션에서 파트너그룹을 생성하면 파트너그릅센셔의 프로그램이 자동적으로 모두 생성되고 책임보험가입 승인된 데이터는 모두 전체관리자섹션에 취합되도록 한다 


<전체로그인페이지>
전체로그인페이지는 현대해상30일책임보험가입 이라는 제목으로 로그인을 할수 있게 한다. 
상단에는 로고를 넣고 아래에는 파트너그룹선택과 아이디 패스워드를 넣을수 있는란을 만든고 아래에는 로그인페이지를 만든다 
파트너그룹에는 전체관리자와 전체관리자섹션에서 만들어진 파트너그룹을 선택할수 있도록 한다 
파트너그룹을 선택하면 로고가 파트너그룹을 등록할때 넣어진 로고를 반영하여 로고가 수정되며 현대해상30일책임보험가입 아래에는 작게 파트너그룹을 표기하여 준다 그리고 로그인옆에는 회원가입 버튼을 넣어 신규 회원가입을 할수 있도록 한다. 
회원가입을 클릭하면 회원가입신청이라는 제목이 나오고 
상사명 아이디 패스워드 주소 사업자번호 법인번호 대표자 연락처 휴대폰 이메일을 입력하는 곳이나오고 아래에 사업자등록증첨부할수 있도록 한다
가장 아래에 회원가입버튼을 만든다 
파트너그룹섹션의 관리자페이지에서 회원가입신청것이 데이터베이스로 저장되고 관리자가 승인되면 로그인이 가능하게 한다 
전체로그인페이지 로고는 /Users/USER/dev/hyundai/logo.png를 넣는다 

<전체관리자섹션>
전체관리자섹션을 선택하여 로그인을 하면 전체대시보드페이지로 넘어간다  이때 로그인 hyundai 패스워드는 #admin1004가 된다 

1. 전체대시보드페이지 
전체대시보드 페이지에는 파트너그룹만들기 전체책임보험현황 전체정산페이지 전체관리자페이지 버튼을 만든다 
2. 파트너그룹만들기 페이지
파트너그룹만들기 페이지를 클릭하면 해당페이지로 이동한다 
상단에는 전체대시보드 페이지로 이동버튼을 만든다 
아래에는 신규추가 버튼을 만든다 신규추가에 내용을 기록하고 완료를 하면 하위섹션인 파트너그룹센션에 해당하는 프로그램이 자동생성되어진다. 
생성된 파트너그룹섹션에 제목은 상단에는 현대해상30일책임보헙가입이 나오고 아래에는 파트너그룹명이 나오도록 한다. 
아래에는 다음과 같이 열을 만든다
순 파트너그룹 아이디 패스워드 사업자등록번호 대표자 유선번호 휴대폰번호 주소 은행 계좌번호 사업자등록증첨부 로고첨부 비고 작업의 열을 만든다 
신규추가시 위에 항목을 추가할수 있도록 하며 필수항목은 파트너그룹 사업자등록번호 대표자 유선번호는 필수항목으로 정한다 작업열에는 수정 저장 삭제 버튼을 만든다 수정버튼을 누르면 해당행이 모두 활성화되고 수정을 하고 저장을 누르면 데이터베이스에 저장된다. 삭제를 누르면 해당행이 삭제되게 된다 
2. 전체책임보험현황페이지 
전체책임보험현황 버튼을 누르면 전체책임보험현황페이지로 넘어간다
해당페이지 상단에는 전체대시보드 페이지로 이동하는 버튼을 만든다 
아래에는 검색조건은 설정하는 버튼과 엑셀저장버튼을 만든다 검색조건은 시작일 종료일 파트너그룹 상사명 가입유무로 한다
상사명은 파트너그룹에 해당하는 상사명만 나타나게 한다 가입유무는 가입완료 미가입으로 구분하고 가입완료는 가입시간이 명기되면 가입완료로 표기하도록 한다  엑셀저장버튼을 누르면 검색된 데이터가 엑셀로 저장하게 만든다
아래에는 다음과 같이 열을 만들도록 하며 파트너그룹과 상관없이 모든 데이터가 취합되도록 한다 
순 파트너그룹(상호) 상사명 신청시간 가입희망일자 가입시간 종료시간 조합승인시간 피보험자코드 계약자코드 한글차량번호 차대번호 차량명 차량등록이자 보험료 보험증권 비고 작업 
 작업열에는 작업열에는 수정 저장 삭제 버튼을 만든다 수정버튼을 누르면 해당행의 모두 데이터가 활성화되고 수정을 하고 저장을 누르면 데이터베이스에 저장된다. 삭제를 누르면 해당행이 삭제되게 된다 보험증권은 보험사에서 보험이 가입되고 가입증권이 PDF파일 형식으로 송부되면 해당 차량의 보험증권을 열람할수 있도록 한다 

 3. 전체정산페이지

전체정산페이지 버튼을 누르면 전체정산페이지로 넘어가다
상단에는 전체대시보드페이지로 이동하는 버튼을 만든다
하단에는 년도 월 을 입력하고 정산하는 버튼 엑셀저장하는 버튼 파트너그룹을 선택하여 정산하는 버튼을 만든다 
아래에는 파트너그룹페이지에서 데이터를 가져와서 정산을 진행하도록 한다 
순 파트너그룹 상사명 대표자 건수 금액 비고 작업 청구서를 열을 만든다 

검색버튼을 누르면 위에 열에 따라 작업하여 정산서가 나타나도록 한다 
건수는 상사명에 따른 건수를 넣고 금액은 건수 곱하기 95000원 계산하여 기록한다 파트너그룹(상호)별로 계를 만들어 넣고 마지막에 합계를 넣도록 한다
정산버튼을 누를시 파트너그룹별 합계행을 만들고 건수와 급액을 합계를 넣어 기록한다
마지막행에는 총합계를 넣고 파트너그릅별 합계행의 건수과 금액을 더해서 총합계에 기록하도록 한다 

4. 전체관리자 페이지
전체관리자 페이지 버튼을 누르면 해당페이지로 넘어간다 
상단에는 전체대시보드페이지로 이동하는 버튼을 만든다
아래에는 추가버튼을 만든다
아래에는 순  이름 아이디 패스워드 활성화 권한 비고 작업 열을 만든다
활성화는 활성화 비활성화중 선택하도록 한다 권한은 열람, 관리자중에서 선택하도록 한다 

추후 개발 사항
파트너그룹(상호)에 관리자 페이지에 책임보험승인페이지에서 승인버튼을 누르면 가입희망일자 피보험자코드 계약자코드 한글차량번호 차대번호 차량명 차량등록일자가 보험사 전산으로 api로 승인되고 보험사 전산에서 가입이 완료되면 api로 한글차량번호와 매핑하여 보험증권을 pdf파일로 송부받아 보험증권열에 저장하도록 한다

<파트너그룹섹션>
파트너그룹섹션은 로그인에서 파트너그룹을 선택하고 로그인을 누르면 해당 파트너그룹별 대시보드페이지로 넘어가도록 설계하도록 한다. 
파트너그룹섹션에 적용되는 로고는 파트너그룹 설정시 저장된 로고를 활용한다. 파트너그룹섹션에는 현대해상30일책임보험가입 아래에 파트너그룹 이름을  넣도록 하며 상단 매뉴바이도 동일하게 표기한다 


1. 대시보드 페이지
대시보드 페이지는 책임보험가입 책임보험약관 관리자페이지의 버튼을 생성한다 

2. 책임보험가입페이지
책임보험가입 버튼을 누르면 책임보험가입페이지로 넘어간다
상단에 대시보드페이지로 버튼을 만든다
줄바꿈을 
아래에는 시작일 종료일 검색버튼을 만들고 옆에는 신규가입버튼과 엑셀업로드버튼 엑셀업로드양식을 만든다 
시작일 종료일을 입력하고 검색하면 해당 조건에 해당하는 가입일자를 기준으로 해당하는 데이터만 나오도록 한다
신규가입버튼을 누르면 가입희망일자 피보험자코드 계약자코드 한글차량번호 차대번호 차량명 차량등록일자 를 입력할수 있도록 하고 아래에는 신청버튼을 만든다 
이때 피보험자코드는 로그인한 사업자의 사업자번호가 자동으로따라가게 한다 계약자코드는 (파트너그룹)이름이 자동으로 넣어저 고정화한다 
엑셀업로드버튼을 누르면 파일을 삽입하고 엑셀로일괄업로드할수 있게 한다
엑셀업로드양식을 클릭하면 엑셀업로드 양식이 다운로드할수 있도록 한다 

버튼 아래에는 아래와 같은 표가 만들어 진단

순  신청시간 가입희망일자 가입시간 종료시간 조합승인시간 피보험자코드 계약자코드 한글차량번호 차대번호 차량명 차량등록일자 보험료  현재상태  보험증권 비고 작업

신청시간 가입시간 종료시간에는 년도월일시간을 표기하도록 한다
보험료 9500원로 고정한다.
가입희망일자 피보험자코드 계약자코드 한글차량번호 차대번호 차량명 차량등록일자는 신규가입과 엑셀로부터 입력된데이터를 가져온다 
가입일은 가입희망일자 기준으로 세팅된다 종료일을 가입일 기준으로 30일후로 세팅된다 조합승인일은 조합에서 승인버튼을 누르면 승인일자로 확정된다 
현재상태는 신청 조합승인 가입 종료로 구분되어 지며 신청이되면 신청이되며 관리자페이지에서 승인이되면  조합승인이된다 조합승인이된이후 2시간이후에는 가입이 된것으로 판단하여 가입시간이 표기된다 * 향후에는 보험사로부터 가입시간을 api로 전송받아 표기하도록 한다
종료일이 경과되면 바로 종료로 구분되어 진다   
비고는 수기로 입력할수 있게 한다 
작업란에는 수정,저장,삭제버튼을 생성한다 작업란에는 조합승인이 되기전까지만 생성되며 조합승인이 되면 작업열은 활성화되지 않는다
보험증권은 보험회사에서 보험가입이 완료되면 송부되는 보험증권 PDF파일을 저장하고 이를 열람할수 있게 한다 * 보험증권은 추후 보험사와 연동하도록 한다.

3. 책임보험약관 페이지
책임보험약관 페이지를 누르면 책임보험약관 페이지로 넘어간다
상단에는 대시보드페이지로 버튼이 만들다
아래에는 책임보험약관이라는 제목하에 아래의 내용이 기재되도록 한다 

4. 관리자페이지
관리자페이지를 누르면 관리자 페이지로 넘어간다
아래에는 대시보드페이지로 버튼을 만든다 
아래에는 
관리자페이지는 회원가입승인  책임보험승인  정산 버튼을 만든다 
가, 회원가입승인
회원가입승인 버튼을 누르면 회원가입승인페이지로 넘어간다
아래에는 관리자페이지로 버튼을 만든다
아래에는 순 상사명 아이디 패스워드 주소 사업자번호 법인번호 대표자 연락처 휴대폰 이메일 승인 비고 작업의 열을 만든다
회원가입승인 회원가입페이지를 통하여 가입된 데이터를 취압되는 곳으로 신청된 데이터가 저장되도록 한다 
승인은 신청 승인중 선택할수 있도록 한다 작업은 수정, 저장, 삭제버튼을 만든다 
회원추가 버튼을 만들어주세요 아울러 엑셀업로드 버튼도 만들어주세요 엑셀업로드다운양식도 만들어주세요 엑셀업로드 버튼을 누르고 파일을 첨부하면 엑셀파일의 데이터가 업로드 될수 있게 해주세요
나. 책임보험 승인 
책임보험 승인 버튼을 누르면 책임보험 승인 페이지로 넘어간다
아래는 관리자페이지로 버튼을 만든다
책임보험승인 회원이 책임보험가입페이지를 통하여 신청한 데이터를 취합한다
아래에는 신청시작일 신청종료일 검색 버튼과 승인여부 검색  일괄승인버튼 승인시작 승인종료 검색 데이터다운로드 버튼을 만든다 
시작일과 종료일은 신청시간을 기준으로 검색이 진행되며 승인여부 승인 미승인중에서 선택할수 있게 한다 승인여부는 조합승인열의 데이터에서 검색하도록 한다 
일괄승인버튼을 누르면 미승인 데이터가 일괄로 승인전환되도록 한다. 
승인시작 승인종료 검색은 조합승인기간을 기준으로 검색이 진행되도록 한다
데이터다운로드 버튼을 누르면 엑셀로 데이터가 다운로드 될수 있도록 한다
순  상사명 신청시간 가입희망일자 가입시간 종료시간 조합승인시간 피보험자코드 계약자코드 한글차량번호 차대번호 차량명 차량등록일자 보험료 조합승인 보험증권 비고 작업

상사명은 회원가입시 신청한 상사명이 기재된다 
작업은 수정, 저장, 삭제 버튼을 만든다 

다, 정산페이지
정산버튼을 누르면 정산페이지로 넘어가도록 한다
상단에는 관리자페이지로 버튼을 만든다
아래에는 년도 월 정산 버튼과 청구서 일괄 저장 버튼을 만든다
정산버튼을 누르면
아래에는 상사명 대표자 건수 금액 비고 작업 청구서, 비고 열을 만든다

분석은 책임보험 승인페이지에서 해당년도 월에 해당되는 데이터를 가져와 정선사를 작성한다 일자는 시작일을 기준으로 한다 
건수는 상사별로 책임보험 가입한 건수를 기록하고 금액은 건수 곱하기 9500원으로 계산한다 
청구서열에는 청구서 버튼을 만들고 해당버튼을 만들면 아래와 같이 청구서가 생성된다 청구서는 팝업창에 띠워지고 청구서처럼 디자인을 해서 올리도록 한다. 

(년도)년(월)월 (상사명)청구
1. 상  사 : (상사명)
2. 대표자  : (대표자)
3. 사업자등록번호 : (사업자등록번호)
4. 청구건수 : (건수)
5. 청구금액 : (금액))

입금계좌 : (파트너그룹에 등록된 계좌번호)
입금은행 : (파트너그룹에 등록된 은행명)

(파트너그룹의 파트너그룹명) (직인생략)

아래에는 저장버튼과 수정버튼을 만든다

저장버튼을 누르면 pdf로 저장된다
수정버튼을 누르면 데이터를 수정할수 있도록 한다 

일괄 저장 버튼을 누르면 전세 청구서가 일괄저장되도록 한다 






# 모든 관련 이미지와 컨테이너 제거
docker-compose down
docker-compose build --no-cache
docker-compose up -d

사용자명: hyundai
비밀번호: #admin1004


busan_admin busan1004


*베셀
23 vercel --prod